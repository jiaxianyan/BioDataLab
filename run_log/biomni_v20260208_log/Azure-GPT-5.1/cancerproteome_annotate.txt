Calculate the Spearman correlation coefficient between protein abundance and transcript expression levels. 

The input data is provided in two separate CSV files: `benchmark/dataset/CancerProteome/protein_abundance.csv` and `benchmark/dataset/CancerProteome/transcript_levels.csv`. 

Both files contain a ''GeneID'' column for matching, a ''Protein_Abundance'' column, and a ''Transcript_Level'' column, respectively.

Merge the two files on ''GeneID'', then compute the correlation. Save the final calculated correlation coefficient as a single numeric value in `/root/biodatalab/log/biomni_v20260209_pred_results/OpenAI/Azure-GPT-5.1/cancerproteome_annotate.txt`.

Output Example:
```
0.85
```

All intermidate results should be save in `/root/biodatalab/log/biomni_v20260209_tmp/OpenAI/Azure-GPT-5.1/cancerproteome_annotate` directory.

<execute>
import os
import pandas as pd
from scipy.stats import spearmanr

print("Step 1: Define paths and create directories if needed")

# Directories
tmp_dir = "/root/biodatalab/log/biomni_v20260209_tmp/OpenAI/Azure-GPT-5.1/cancerproteome_annotate"
final_dir = "/root/biodatalab/log/biomni_v20260209_pred_results/OpenAI/Azure-GPT-5.1"
os.makedirs(tmp_dir, exist_ok=True)
os.makedirs(final_dir, exist_ok=True)

protein_path = "benchmark/dataset/CancerProteome/protein_abundance.csv"
transcript_path = "benchmark/dataset/CancerProteome/transcript_levels.csv"

print("Temporary directory:", tmp_dir)
print("Final directory:", final_dir)
print("Protein file path:", protein_path)
print("Transcript file path:", transcript_path)

print("\nPlan:")
print("1. [ ] Load the protein and transcript CSV files into pandas DataFrames.")
print("2. [ ] Merge the two DataFrames on 'GeneID'.")
print("3. [ ] Clean the merged data (drop NA, ensure numeric).")
print("4. [ ] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.")
print("5. [ ] Save intermediate merged/cleaned data and correlation results to the tmp directory.")
print("6. [ ] Save the final correlation coefficient as a single numeric value in the specified output file.")

print("\nStep 1: Load the protein and transcript CSV files")

protein_df = pd.read_csv(protein_path)
transcript_df = pd.read_csv(transcript_path)

print("Protein DataFrame shape:", protein_df.shape)
print("Transcript DataFrame shape:", transcript_df.shape)

# Save raw data copies as intermediate results
protein_raw_out = os.path.join(tmp_dir, "protein_abundance_raw.csv")
transcript_raw_out = os.path.join(tmp_dir, "transcript_levels_raw.csv")
protein_df.to_csv(protein_raw_out, index=False)
transcript_df.to_csv(transcript_raw_out, index=False)
print("Saved raw protein data to:", protein_raw_out)
print("Saved raw transcript data to:", transcript_raw_out)

print("\nUpdated Plan:")
print("1. [✓] Load the protein and transcript CSV files into pandas DataFrames.")
print("2. [ ] Merge the two DataFrames on 'GeneID'.")
print("3. [ ] Clean the merged data (drop NA, ensure numeric).")
print("4. [ ] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.")
print("5. [ ] Save intermediate merged/cleaned data and correlation results to the tmp directory.")
print("6. [ ] Save the final correlation coefficient as a single numeric value in the specified output file.")

print("\nStep 2: Merge the two DataFrames on 'GeneID'")

merged_df = pd.merge(protein_df, transcript_df, on="GeneID", how="inner")
print("Merged DataFrame shape:", merged_df.shape)
print("Merged DataFrame columns:", merged_df.columns.tolist())

merged_out = os.path.join(tmp_dir, "merged_protein_transcript.csv")
merged_df.to_csv(merged_out, index=False)
print("Saved merged data to:", merged_out)

print("\nUpdated Plan:")
print("1. [✓] Load the protein and transcript CSV files into pandas DataFrames.")
print("2. [✓] Merge the two DataFrames on 'GeneID'.")
print("3. [ ] Clean the merged data (drop NA, ensure numeric).")
print("4. [ ] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.")
print("5. [ ] Save intermediate merged/cleaned data and correlation results to the tmp directory.")
print("6. [ ] Save the final correlation coefficient as a single numeric value in the specified output file.")

print("\nStep 3: Clean the merged data")

# Ensure numeric and drop rows with missing values in the relevant columns
for col in ["Protein_Abundance", "Transcript_Level"]:
    merged_df[col] = pd.to_numeric(merged_df[col], errors="coerce")

before_drop_shape = merged_df.shape
clean_df = merged_df.dropna(subset=["Protein_Abundance", "Transcript_Level"])
after_drop_shape = clean_df.shape

print("Shape before dropping NA:", before_drop_shape)
print("Shape after dropping NA:", after_drop_shape)

clean_out = os.path.join(tmp_dir, "merged_clean.csv")
clean_df.to_csv(clean_out, index=False)
print("Saved cleaned merged data to:", clean_out)

print("\nUpdated Plan:")
print("1. [✓] Load the protein and transcript CSV files into pandas DataFrames.")
print("2. [✓] Merge the two DataFrames on 'GeneID'.")
print("3. [✓] Clean the merged data (drop NA, ensure numeric).")
print("4. [ ] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.")
print("5. [ ] Save intermediate merged/cleaned data and correlation results to the tmp directory.")
print("6. [ ] Save the final correlation coefficient as a single numeric value in the specified output file.")

print("\nStep 4: Compute the Spearman correlation")

if clean_df.shape[0] < 2:
    raise ValueError("Not enough data points after cleaning to compute Spearman correlation.")

corr_coef, p_value = spearmanr(clean_df["Protein_Abundance"], clean_df["Transcript_Level"])

print("Spearman correlation coefficient:", corr_coef)
print("Spearman correlation p-value:", p_value)

corr_out = os.path.join(tmp_dir, "spearman_correlation_results.txt")
with open(corr_out, "w") as f:
    f.write(f"Spearman_correlation_coefficient\t{corr_coef}\n")
    f.write(f"P_value\t{p_value}\n")
print("Saved detailed correlation results to:", corr_out)

print("\nUpdated Plan:")
print("1. [✓] Load the protein and transcript CSV files into pandas DataFrames.")
print("2. [✓] Merge the two DataFrames on 'GeneID'.")
print("3. [✓] Clean the merged data (drop NA, ensure numeric).")
print("4. [✓] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.")
print("5. [ ] Save intermediate merged/cleaned data and correlation results to the tmp directory.")
print("6. [ ] Save the final correlation coefficient as a single numeric value in the specified output file.")

print("\nStep 5: Confirm intermediate results saved (already done in previous steps)")

print("Intermediate files in tmp directory:")
for fname in os.listdir(tmp_dir):
    print(" -", fname)

print("\nUpdated Plan:")
print("1. [✓] Load the protein and transcript CSV files into pandas DataFrames.")
print("2. [✓] Merge the two DataFrames on 'GeneID'.")
print("3. [✓] Clean the merged data (drop NA, ensure numeric).")
print("4. [✓] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.")
print("5. [✓] Save intermediate merged/cleaned data and correlation results to the tmp directory.")
print("6. [ ] Save the final correlation coefficient as a single numeric value in the specified output file.")

print("\nStep 6: Save the final correlation coefficient as a single numeric value")

final_out = os.path.join(final_dir, "cancerproteome_annotate.txt")
with open(final_out, "w") as f:
    # Write as a single numeric value on one line
    f.write(f"{corr_coef}\n")

print("Saved final Spearman correlation coefficient to:", final_out)
print("Final correlation coefficient:", corr_coef)

print("\nFinal Plan Status:")
print("1. [✓] Load the protein and transcript CSV files into pandas DataFrames.")
print("2. [✓] Merge the two DataFrames on 'GeneID'.")
print("3. [✓] Clean the merged data (drop NA, ensure numeric).")
print("4. [✓] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.")
print("5. [✓] Save intermediate merged/cleaned data and correlation results to the tmp directory.")
print("6. [✓] Save the final correlation coefficient as a single numeric value in the specified output file.")
</execute>
<observation>Step 1: Define paths and create directories if needed
Temporary directory: /root/biodatalab/log/biomni_v20260209_tmp/OpenAI/Azure-GPT-5.1/cancerproteome_annotate
Final directory: /root/biodatalab/log/biomni_v20260209_pred_results/OpenAI/Azure-GPT-5.1
Protein file path: benchmark/dataset/CancerProteome/protein_abundance.csv
Transcript file path: benchmark/dataset/CancerProteome/transcript_levels.csv

Plan:
1. [ ] Load the protein and transcript CSV files into pandas DataFrames.
2. [ ] Merge the two DataFrames on 'GeneID'.
3. [ ] Clean the merged data (drop NA, ensure numeric).
4. [ ] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.
5. [ ] Save intermediate merged/cleaned data and correlation results to the tmp directory.
6. [ ] Save the final correlation coefficient as a single numeric value in the specified output file.

Step 1: Load the protein and transcript CSV files
Protein DataFrame shape: (100, 2)
Transcript DataFrame shape: (100, 2)
Saved raw protein data to: /root/biodatalab/log/biomni_v20260209_tmp/OpenAI/Azure-GPT-5.1/cancerproteome_annotate/protein_abundance_raw.csv
Saved raw transcript data to: /root/biodatalab/log/biomni_v20260209_tmp/OpenAI/Azure-GPT-5.1/cancerproteome_annotate/transcript_levels_raw.csv

Updated Plan:
1. [✓] Load the protein and transcript CSV files into pandas DataFrames.
2. [ ] Merge the two DataFrames on 'GeneID'.
3. [ ] Clean the merged data (drop NA, ensure numeric).
4. [ ] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.
5. [ ] Save intermediate merged/cleaned data and correlation results to the tmp directory.
6. [ ] Save the final correlation coefficient as a single numeric value in the specified output file.

Step 2: Merge the two DataFrames on 'GeneID'
Merged DataFrame shape: (100, 3)
Merged DataFrame columns: ['GeneID', 'Protein_Abundance', 'Transcript_Level']
Saved merged data to: /root/biodatalab/log/biomni_v20260209_tmp/OpenAI/Azure-GPT-5.1/cancerproteome_annotate/merged_protein_transcript.csv

Updated Plan:
1. [✓] Load the protein and transcript CSV files into pandas DataFrames.
2. [✓] Merge the two DataFrames on 'GeneID'.
3. [ ] Clean the merged data (drop NA, ensure numeric).
4. [ ] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.
5. [ ] Save intermediate merged/cleaned data and correlation results to the tmp directory.
6. [ ] Save the final correlation coefficient as a single numeric value in the specified output file.

Step 3: Clean the merged data
Shape before dropping NA: (100, 3)
Shape after dropping NA: (100, 3)
Saved cleaned merged data to: /root/biodatalab/log/biomni_v20260209_tmp/OpenAI/Azure-GPT-5.1/cancerproteome_annotate/merged_clean.csv

Updated Plan:
1. [✓] Load the protein and transcript CSV files into pandas DataFrames.
2. [✓] Merge the two DataFrames on 'GeneID'.
3. [✓] Clean the merged data (drop NA, ensure numeric).
4. [ ] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.
5. [ ] Save intermediate merged/cleaned data and correlation results to the tmp directory.
6. [ ] Save the final correlation coefficient as a single numeric value in the specified output file.

Step 4: Compute the Spearman correlation
Spearman correlation coefficient: 0.9928352835283527
Spearman correlation p-value: 3.0699357149169534e-92
Saved detailed correlation results to: /root/biodatalab/log/biomni_v20260209_tmp/OpenAI/Azure-GPT-5.1/cancerproteome_annotate/spearman_correlation_results.txt

Updated Plan:
1. [✓] Load the protein and transcript CSV files into pandas DataFrames.
2. [✓] Merge the two DataFrames on 'GeneID'.
3. [✓] Clean the merged data (drop NA, ensure numeric).
4. [✓] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.
5. [ ] Save intermediate merged/cleaned data and correlation results to the tmp directory.
6. [ ] Save the final correlation coefficient as a single numeric value in the specified output file.

Step 5: Confirm intermediate results saved (already done in previous steps)
Intermediate files in tmp directory:
 - protein_abundance_raw.csv
 - transcript_levels_raw.csv
 - merged_protein_transcript.csv
 - merged_clean.csv
 - spearman_correlation_results.txt

Updated Plan:
1. [✓] Load the protein and transcript CSV files into pandas DataFrames.
2. [✓] Merge the two DataFrames on 'GeneID'.
3. [✓] Clean the merged data (drop NA, ensure numeric).
4. [✓] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.
5. [✓] Save intermediate merged/cleaned data and correlation results to the tmp directory.
6. [ ] Save the final correlation coefficient as a single numeric value in the specified output file.

Step 6: Save the final correlation coefficient as a single numeric value
Saved final Spearman correlation coefficient to: /root/biodatalab/log/biomni_v20260209_pred_results/OpenAI/Azure-GPT-5.1/cancerproteome_annotate.txt
Final correlation coefficient: 0.9928352835283527

Final Plan Status:
1. [✓] Load the protein and transcript CSV files into pandas DataFrames.
2. [✓] Merge the two DataFrames on 'GeneID'.
3. [✓] Clean the merged data (drop NA, ensure numeric).
4. [✓] Compute the Spearman correlation between Protein_Abundance and Transcript_Level.
5. [✓] Save intermediate merged/cleaned data and correlation results to the tmp directory.
6. [✓] Save the final correlation coefficient as a single numeric value in the specified output file.
</observation>
<solution>
0.9928352835283527
</solution>