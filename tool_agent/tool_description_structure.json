[
  {
    "description": "Collects metadata by integrating data from various sources. It takes a list of accessions, diet information, and trait data as input. It retrieves accession information from the Entrez API, matches host scientific names, extracts diet information, merges the data, and outputs a metadata file. It also handles missing data and logs errors.",
    "name": "collect_metadata",
    "required_parameters": [
      {
        "name": "accession_list_path",
        "type": "str",
        "description": "Path to the accession list text file."
      },
      {
        "name": "mammaldiet_path",
        "type": "str",
        "description": "Path to the mammaldiet TSV file."
      },
      {
        "name": "eltontraits_path",
        "type": "str",
        "description": "Path to the elton traits CSV file."
      }
    ],
    "optional_parameters": [
      {
        "name": "ncbi_api_key",
        "type": "str",
        "default": null,
        "description": "NCBI API key for accessing Entrez. If not provided, the tool will attempt to use the default or environment variable."
      },
      {
        "name": "output_path",
        "type": "str",
        "default": "metadata.tsv",
        "description": "Path to save the output metadata TSV file."
      }
    ]
  },
  {
    "description": "Merges paired-end FASTQ files using VSEARCH.",
    "name": "merge_paired_fastq_with_vsearch",
    "required_parameters": [
      {
        "name": "fastq1",
        "type": "str",
        "description": "Path to the first FASTQ file (R1)."
      },
      {
        "name": "fastq2",
        "type": "str",
        "description": "Path to the second FASTQ file (R2)."
      },
      {
        "name": "vsearch_bin",
        "type": "str",
        "description": "Path to the VSEARCH executable."
      }
    ],
    "optional_parameters": [
      {
        "name": "output_fastq",
        "type": "str",
        "default": "merged.fastq",
        "description": "Path to the output merged FASTQ file."
      }
    ]
  },
  {
    "description": "Filters a FASTQ file based on quality scores, removing low-quality reads and reads with ambiguous bases (Ns).",
    "name": "fastq_quality_filter",
    "required_parameters": [
      {
        "name": "input_fastq",
        "type": "str",
        "description": "Path to the input merged FASTQ file."
      },
      {
        "name": "quality_threshold",
        "type": "str",
        "description": "Quality score threshold for filtering. Reads with consecutive bases below this threshold will be trimmed."
      },
      {
        "name": "qiime2_bin",
        "type": "str",
        "description": "Path to the qiime2 binary executable."
      }
    ],
    "optional_parameters": [
      {
        "name": "min_quality_length",
        "type": "str",
        "default": "0.75",
        "description": "Minimum proportion of high-quality length to retain after trimming (e.g., 0.75 for 75%)."
      }
    ]
  },
  {
    "description": "Denoises sequences using Deblur, generating an ASV table.",
    "name": "denoise_with_deblur",
    "required_parameters": [
      {
        "name": "filtered_fastq",
        "type": "str",
        "description": "Path to the filtered FASTQ file."
      },
      {
        "name": "qiime2_bin",
        "type": "str",
        "description": "Path to the QIIME2 binary."
      },
      {
        "name": "deblur_bin",
        "type": "str",
        "description": "Path to the Deblur binary."
      }
    ],
    "optional_parameters": []
  },
  {
    "description": "Filters a BIOM table, removing samples with fewer than a specified number of reads.",
    "name": "filter_biom_table",
    "required_parameters": [
      {
        "name": "input_biom",
        "type": "str",
        "description": "Path to the input BIOM table."
      }
    ],
    "optional_parameters": [
      {
        "name": "min_reads",
        "type": "int",
        "default": 1000,
        "description": "Minimum number of reads a sample must have to be retained."
      },
      {
        "name": "output_biom",
        "type": "str",
        "default": "filtered_asv_table.biom",
        "description": "Path to the output filtered BIOM table."
      }
    ]
  },
  {
    "description": "Performs diversity analysis on a filtered ASV table, including rarefaction, SRS scaling, alpha and beta diversity calculations.",
    "name": "perform_diversity_analysis",
    "required_parameters": [
      {
        "name": "filtered_asv_table",
        "type": "str",
        "description": "Path to the filtered ASV table in BIOM format."
      },
      {
        "name": "qiime2_bin",
        "type": "str",
        "description": "Path to the QIIME2 binary."
      }
    ],
    "optional_parameters": [
      {
        "name": "rarefaction_depth",
        "type": "int",
        "default": 1000,
        "description": "The rarefaction depth to use for rarefying the ASV table."
      },
      {
        "name": "alpha_metrics",
        "type": "str",
        "default": "observed_otus,shannon",
        "description": "Comma-separated list of alpha diversity metrics to calculate."
      },
      {
        "name": "beta_metrics",
        "type": "str",
        "default": "unweighted_unifrac,weighted_unifrac",
        "description": "Comma-separated list of beta diversity metrics to calculate."
      },
      {
        "name": "output_dir",
        "type": "str",
        "default": "diversity_results",
        "description": "The output directory for the diversity analysis results."
      }
    ]
  },
  {
    "description": "Constructs a phylogenetic tree from representative ASV sequences using MAFFT for alignment and FastTree for tree building. Requires explicit paths to external programs.",
    "name": "construct_phylogenetic_tree",
    "required_parameters": [
      {
        "name": "asv_sequences",
        "type": "str",
        "description": "Path to the file containing representative ASV sequences (e.g., FASTA format)."
      },
      {
        "name": "mafft_bin",
        "type": "str",
        "description": "Path to the MAFFT executable."
      },
      {
        "name": "fasttree_bin",
        "type": "str",
        "description": "Path to the FastTree executable."
      }
    ],
    "optional_parameters": []
  },
  {
    "description": "Annotates ASV sequences using QIIME2's classify-consensus-vsearch method with a minimum identity of 0.97. Requires explicit paths to external programs and the EzBioCloud reference database.",
    "name": "annotate_asv_with_qiime2",
    "required_parameters": [
      {
        "name": "asv_sequences",
        "type": "str",
        "description": "Path to the input ASV sequences in FASTA format (asv_sequences.fasta)."
      },
      {
        "name": "qiime2_bin",
        "type": "str",
        "description": "Path to the QIIME2 binary executable."
      },
      {
        "name": "ezbiocloud_db",
        "type": "str",
        "description": "Path to the EzBioCloud reference database."
      }
    ],
    "optional_parameters": []
  }
]
